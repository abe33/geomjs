
<html>
  <meta charset='utf-8'>
  <title>src/geomjs/matrix.coffee</title>
  <head>
    <link rel='stylesheet' media='all' href='docco.css'>
<link href='http://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
<script src='http://code.jquery.com/jquery-1.6.2.min.js' type='text/javascript' charset='utf-8'></script>
<script src='docco.js' type='text/javascript' charset='utf-8'></script>
    <script>
      $(document).ready(function(){
        $('#menu').columnview();
        $('#jump_show').click(function(){
          $('#jump_to').toggleClass('visible')
        })
        var p = "src/geomjs/matrix.coffee".split('/')
        var f = p.pop()
        for(var i=0;i<p.length;i++){
          var s = p[i] + "/"
          $("#jump_page div a span.label").filter(function(){
            return $(this).text() == s
          }).parent().click()
        }
    
        $("#jump_page div a span.label").filter(function(){
          return $(this).text() == f
        }).last().parent().toggleClass('active')
      })
    </script>
  </head>
  <body>
    <div id='container'>
      <div id='jump_to'><div id='jump_page'>
  <ul class='menu' id='menu'>
    <li class='leaf'><a href='#'>src/</a><ul class='menu'><li class='leaf'><a href='src_index.html'>index.coffee</a></li><li class='leaf'><a href='#'>geomjs/</a><ul class='menu'><li class='leaf'><a href='src_geomjs_circle.html'>circle.coffee</a></li><li class='leaf'><a href='src_geomjs_cubic_bezier.html'>cubic_bezier.coffee</a></li><li class='leaf'><a href='src_geomjs_diamond.html'>diamond.coffee</a></li><li class='leaf'><a href='src_geomjs_ellipsis.html'>ellipsis.coffee</a></li><li class='leaf'><a href='src_geomjs_linear_spline.html'>linear_spline.coffee</a></li><li class='leaf'><a href='src_geomjs_math.html'>math.coffee</a></li><li class='leaf'><a href='src_geomjs_matrix.html'>matrix.coffee</a></li><li class='leaf'><a href='#'>mixins/</a><ul class='menu'><li class='leaf'><a href='src_geomjs_mixins_geometry.html'>geometry.coffee</a></li><li class='leaf'><a href='src_geomjs_mixins_intersections.html'>intersections.coffee</a></li><li class='leaf'><a href='src_geomjs_mixins_path.html'>path.coffee</a></li><li class='leaf'><a href='src_geomjs_mixins_proxyable.html'>proxyable.coffee</a></li><li class='leaf'><a href='src_geomjs_mixins_spline.html'>spline.coffee</a></li><li class='leaf'><a href='src_geomjs_mixins_surface.html'>surface.coffee</a></li><li class='leaf'><a href='src_geomjs_mixins_triangulable.html'>triangulable.coffee</a></li></ul></li><li class='leaf'><a href='src_geomjs_point.html'>point.coffee</a></li><li class='leaf'><a href='src_geomjs_polygon.html'>polygon.coffee</a></li><li class='leaf'><a href='src_geomjs_quad_bezier.html'>quad_bezier.coffee</a></li><li class='leaf'><a href='src_geomjs_quint_bezier.html'>quint_bezier.coffee</a></li><li class='leaf'><a href='src_geomjs_rectangle.html'>rectangle.coffee</a></li><li class='leaf'><a href='src_geomjs_spiral.html'>spiral.coffee</a></li><li class='leaf'><a href='src_geomjs_transformation_proxy.html'>transformation_proxy.coffee</a></li><li class='leaf'><a href='src_geomjs_triangle.html'>triangle.coffee</a></li></ul></li></ul></li>
  </ul>
</div>
<div id='jump_show'>
  Jump To &hellip;
</div></div>
      <table cellpadding='0' cellspacing='0'>
        <tr>
          <th class='docs'>
            <h3>src/geomjs/</h3>
            <h1>matrix.coffee</h1>
          </th>
          <th class='code'>
            <pre></pre>
          </th>
        </tr>
        <tr>
          <td class='docs'><p>This file define the <code>Matrix</code> class used by various class inside geomjs.
<h3>Table Of Content</h3>
<ul class='toc'>
  <li class='level0'>
    <a href='#matrix'>Matrix</a>
  </li>
  <li class='level1'>
    <a href='#class-methods'>Class Methods</a>
  </li>
  <li class='level2'>
    <a href='#matrixismatrix'>Matrix.isMatrix</a>
  </li>
  <li class='level1'>
    <a href='#instances-methods'>Instances Methods</a>
  </li>
  <li class='level2'>
    <a href='#matrixconstructor'>Matrix::constructor</a>
  </li>
  <li class='level2'>
    <a href='#matrixtransformpoint'>Matrix::transformPoint</a>
  </li>
  <li class='level2'>
    <a href='#matrixtranslate'>Matrix::translate</a>
  </li>
  <li class='level2'>
    <a href='#matrixscale'>Matrix::scale</a>
  </li>
  <li class='level2'>
    <a href='#matrixrotate'>Matrix::rotate</a>
  </li>
  <li class='level2'>
    <a href='#matrixskew'>Matrix::skew</a>
  </li>
  <li class='level2'>
    <a href='#matrixappend'>Matrix::append</a>
  </li>
  <li class='level2'>
    <a href='#matrixprepend'>Matrix::prepend</a>
  </li>
  <li class='level2'>
    <a href='#matrixidentity'>Matrix::identity</a>
  </li>
  <li class='level2'>
    <a href='#matrixinverse'>Matrix::inverse</a>
  </li>
  <li class='level2'>
    <a href='#matrixismatrix'>Matrix::isMatrix</a>
  </li>
  <li class='level2'>
    <a href='#matrixtostring'>Matrix::toString</a>
  </li>
  <li class='level2'>
    <a href='#matrixequals'>Matrix::equals</a>
  </li>
  <li class='level2'>
    <a href='#matrixclone'>Matrix::clone</a>
  </li>
</ul></p></td>
          <td class='code'><pre>mixinsjs <span class="operators">=</span> <span class="global">require</span> <span class="string"><span class="string_begin">'</span>mixinsjs<span class="string_end">'</span></span>

<span class="hash"><span class="hash_begin">{</span>
  <span class="constant">Equatable</span><span class="punctuation">,</span>
  <span class="constant">Cloneable</span><span class="punctuation">,</span>
  <span class="constant">Sourcable</span><span class="punctuation">,</span>
  <span class="constant">Formattable</span><span class="punctuation">,</span>
  <span class="constant">Parameterizable</span><span class="punctuation">,</span>
  include
<span class="hash_end">}</span></span> <span class="operators">=</span> mixinsjs

<span class="global">require</span> <span class="string"><span class="string_begin">'</span>./math<span class="string_end">'</span></span>
<span class="constant">Point</span> <span class="operators">=</span> <span class="global">require</span> <span class="string"><span class="string_begin">'</span>./point<span class="string_end">'</span></span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h1 id='matrix'>Matrix</h1></td>
          <td class='code'><pre>
</pre></td>
        </tr>
        <tr>
          <td class='docs'><p>The Matrix class represents a transformation matrix that
determines how to map points from one coordinate space to another.
These transformation functions include translation (x and
y repositioning), rotation, scaling, and skewing.</p>

<p>A matrix can created with the following signature:</p>

<pre><code>matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span>

matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span> a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty

matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span> <span class="hash"><span class="hash_begin">{</span>a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="hash_end">}</span></span></code></pre>

<p>An identity matrix is created if no arguments is provided.</p></td>
          <td class='code'><pre><span class="class"><span class="keyword">class</span> <span class='title'>Matrix</span></span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><p>A list of the proprties to be checked to consider an object as a matrix.</p></td>
          <td class='code'><pre>  <span class="constant">PROPERTIES</span> <span class="operators">=</span> <span class="punctuation">[</span><span class="string"><span class="string_begin">'</span>a<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="string"><span class="string_begin">'</span>b<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="string"><span class="string_begin">'</span>c<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="string"><span class="string_begin">'</span>d<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="string"><span class="string_begin">'</span>tx<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="string"><span class="string_begin">'</span>ty<span class="string_end">'</span></span><span class="punctuation">]</span>

  include<span class="group"><span class="group_begin">(</span><span class="punctuation">[</span>
    <span class="constant">Equatable</span><span class="punctuation">.</span>apply<span class="group"><span class="group_begin">(</span><span class="literal">null</span><span class="punctuation">,</span> <span class="constant">PROPERTIES</span><span class="group_end">)</span></span>
    <span class="constant">Formattable</span><span class="punctuation">.</span>apply<span class="group"><span class="group_begin">(</span><span class="literal">null</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="string"><span class="string_begin">'</span>Matrix<span class="string_end">'</span></span><span class="punctuation">]</span><span class="punctuation">.</span>concat <span class="constant">PROPERTIES</span><span class="group_end">)</span></span>
    <span class="constant">Sourcable</span><span class="punctuation">.</span>apply<span class="group"><span class="group_begin">(</span><span class="literal">null</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="string"><span class="string_begin">'</span>geomjs.Matrix<span class="string_end">'</span></span><span class="punctuation">]</span><span class="punctuation">.</span>concat <span class="constant">PROPERTIES</span><span class="group_end">)</span></span>
    <span class="constant">Parameterizable</span><span class="group"><span class="group_begin">(</span><span class="string"><span class="string_begin">'</span>matrixFrom<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="hash"><span class="hash_begin">{</span>
      <span class="property">a<span class='punctuation'>:</span></span> <span class="number">1</span>
      <span class="property">b<span class='punctuation'>:</span></span> <span class="number">0</span>
      <span class="property">c<span class='punctuation'>:</span></span> <span class="number">0</span>
      <span class="property">d<span class='punctuation'>:</span></span> <span class="number">1</span>
      <span class="property">tx<span class='punctuation'>:</span></span> <span class="number">0</span>
      <span class="property">ty<span class='punctuation'>:</span></span> <span class="number">0</span>
    <span class="hash_end">}</span></span><span class="group_end">)</span></span>
    <span class="constant">Cloneable</span><span class="group"><span class="group_begin">(</span><span class="group_end">)</span></span>
  <span class="punctuation">]</span><span class="group_end">)</span></span><span class="punctuation">.</span><span class="keyword">in</span> <span class="constant">Matrix</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h3 id='class-methods'>Class Methods</h3></td>
          <td class='code'><pre>
</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixismatrix'>Matrix.isMatrix</h4>

<p>Returns <code>true</code> if the passed-in object <code>m</code> is a valid matrix.
A valid matrix is an object with properties <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code>,
<code>tx</code> and <code>ty</code> and that properties must contains numbers.</p>

<pre><code><span class="constant">Matrix</span><span class="punctuation">.</span>isMatrix <span class="keyword">new</span> <span class="constant">Matrix</span>  <span class="comment"># true</span>

matrix2 <span class="operators">=</span>
  <span class="property">a<span class='punctuation'>:</span></span> <span class="number">1</span><span class="punctuation">,</span> <span class="property">b<span class='punctuation'>:</span></span> <span class="number">0</span><span class="punctuation">,</span> <span class="property">tx<span class='punctuation'>:</span></span> <span class="number">0</span>
  <span class="property">c<span class='punctuation'>:</span></span> <span class="number">0</span><span class="punctuation">,</span> <span class="property">d<span class='punctuation'>:</span></span> <span class="number">1</span><span class="punctuation">,</span> <span class="property">ty<span class='punctuation'>:</span></span> <span class="number">0</span>
<span class="constant">Matrix</span><span class="punctuation">.</span>isMatrix matrix      <span class="comment"># true</span>

matrix2 <span class="operators">=</span>
  <span class="property">a<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>1<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="property">b<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>0<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="property">tx<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>0<span class="string_end">'</span></span>
  <span class="property">c<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>0<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="property">d<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>1<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="property">ty<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>0<span class="string_end">'</span></span>
<span class="constant">Matrix</span><span class="punctuation">.</span>isMatrix matrix      <span class="comment"># true</span>

<span class="constant">Matris</span><span class="punctuation">.</span>isMatrix <span class="hash"><span class="hash_begin">{</span><span class="hash_end">}</span></span>          <span class="comment"># false</span></code></pre></td>
          <td class='code'><pre>  <span class="property">@isMatrix<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>m<span class="group_end">)</span></span> <span class="function">-></span>
    <span class="keyword">return</span> <span class="literal">false</span> <span class="keyword">unless</span> m<span class="operators">?</span>
    <span class="keyword">return</span> <span class="literal">false</span> <span class="keyword">for</span> k <span class="keyword">in</span> <span class="constant">PROPERTIES</span> <span class="keyword">when</span> <span class="keyword">not</span> <span class="constant">Math</span><span class="punctuation">.</span>isFloat m<span class="punctuation">[</span>k<span class="punctuation">]</span>
    <span class="literal">true</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h3 id='instances-methods'>Instances Methods</h3></td>
          <td class='code'><pre>
</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixconstructor'>Matrix::constructor</h4>

<p>Creates a new Matrix instance.</p>

<p>A matrix can created with the following signature:</p>

<pre><code>matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span>

matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span> a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty

matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span> <span class="hash"><span class="hash_begin">{</span>a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="hash_end">}</span></span></code></pre>

<p>An identity matrix is created if no arguments is provided.</p></td>
          <td class='code'><pre>  <span class="property">constructor<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>a<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> b<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> c<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> d<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> tx<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> ty<span class="operators">=</span><span class="number">0</span><span class="group_end">)</span></span> <span class="function">-></span>
    <span class="hash"><span class="hash_begin">{</span><span class="property">@a</span><span class="punctuation">,</span> <span class="property">@b</span><span class="punctuation">,</span> <span class="property">@c</span><span class="punctuation">,</span> <span class="property">@d</span><span class="punctuation">,</span> <span class="property">@tx</span><span class="punctuation">,</span> <span class="property">@ty</span><span class="hash_end">}</span></span> <span class="operators">=</span> <span class="property">@matrixFrom</span> a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="punctuation">,</span> <span class="literal">true</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixtransformpoint'>Matrix::transformPoint</h4>

<p>Returns a new point corresponding to the transformation
of the passed-in point by the current matrix.</p>

<pre><code>point <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Point</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">0</span>

matrix <span class="operators">=</span> <span class="keyword">new</span> <span class="constant">Matrix</span><span class="group"><span class="group_begin">(</span><span class="group_end">)</span></span><span class="punctuation">.</span>scale<span class="group"><span class="group_begin">(</span><span class="number">2</span><span class="punctuation">,</span><span class="number">2</span><span class="group_end">)</span></span><span class="punctuation">.</span>rotate<span class="group"><span class="group_begin">(</span><span class="number">90</span><span class="group_end">)</span></span>

projected <span class="operators">=</span> matrix<span class="punctuation">.</span>transformPoint point
<span class="comment"># projected = [object Point(0,20)]</span></code></pre></td>
          <td class='code'><pre>  <span class="property">transformPoint<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>xOrPt<span class="punctuation">,</span> y<span class="group_end">)</span></span> <span class="function">-></span>
    <span class="keyword">if</span> <span class="keyword">not</span> xOrPt<span class="operators">?</span> <span class="keyword">and</span> <span class="keyword">not</span> y<span class="operators">?</span>
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="constant">Error</span> <span class="string"><span class="string_begin">"</span>transformPoint was called without arguments<span class="string_end">"</span></span>

    <span class="hash"><span class="hash_begin">{</span>x<span class="punctuation">,</span>y<span class="hash_end">}</span></span> <span class="operators">=</span> <span class="constant">Point</span><span class="punctuation">.</span>pointFrom xOrPt<span class="punctuation">,</span> y<span class="punctuation">,</span> <span class="literal">true</span>
    <span class="keyword">new</span> <span class="constant">Point</span> x<span class="operators">*</span><span class="property">@a</span> <span class="operators">+</span> y<span class="operators">*</span><span class="property">@c</span> <span class="operators">+</span> <span class="property">@tx</span><span class="punctuation">,</span>
              x<span class="operators">*</span><span class="property">@b</span> <span class="operators">+</span> y<span class="operators">*</span><span class="property">@d</span> <span class="operators">+</span> <span class="property">@ty</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixtranslate'>Matrix::translate</h4>

<p>Translates the matrix by the amount of the passed-in point.</p></td>
          <td class='code'><pre>  <span class="property">translate<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>xOrPt<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> y<span class="operators">=</span><span class="number">0</span><span class="group_end">)</span></span> <span class="function">-></span>
    <span class="hash"><span class="hash_begin">{</span>x<span class="punctuation">,</span>y<span class="hash_end">}</span></span> <span class="operators">=</span> <span class="constant">Point</span><span class="punctuation">.</span>pointFrom xOrPt<span class="punctuation">,</span> y

    <span class="property">@tx</span> <span class="operators">+</span><span class="operators">=</span> x
    <span class="property">@ty</span> <span class="operators">+</span><span class="operators">=</span> y
    <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixscale'>Matrix::scale</h4>

<p>Scales the matrix by the amount of the passed-in point.</p></td>
          <td class='code'><pre>  <span class="property">scale<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>xOrPt<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> y<span class="operators">=</span><span class="number">1</span><span class="group_end">)</span></span> <span class="function">-></span>
    <span class="hash"><span class="hash_begin">{</span>x<span class="punctuation">,</span>y<span class="hash_end">}</span></span> <span class="operators">=</span> <span class="constant">Point</span><span class="punctuation">.</span>pointFrom xOrPt<span class="punctuation">,</span> y

    <span class="property">@a</span> <span class="operators">*</span><span class="operators">=</span> x
    <span class="property">@d</span> <span class="operators">*</span><span class="operators">=</span> y
    <span class="property">@tx</span> <span class="operators">*</span><span class="operators">=</span> x
    <span class="property">@ty</span> <span class="operators">*</span><span class="operators">=</span> y
    <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixrotate'>Matrix::rotate</h4>

<p>Rotates the matrix by the amount of the passed-in angle in degrees.</p></td>
          <td class='code'><pre>  <span class="property">rotate<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>angle<span class="operators">=</span><span class="number">0</span><span class="group_end">)</span></span> <span class="function">-></span>
    cos <span class="operators">=</span> <span class="constant">Math</span><span class="punctuation">.</span>cos angle
    sin <span class="operators">=</span> <span class="constant">Math</span><span class="punctuation">.</span>sin angle
    <span class="punctuation">[</span><span class="property">@a</span><span class="punctuation">,</span> <span class="property">@b</span><span class="punctuation">,</span> <span class="property">@c</span><span class="punctuation">,</span> <span class="property">@d</span><span class="punctuation">,</span> <span class="property">@tx</span><span class="punctuation">,</span> <span class="property">@ty</span><span class="punctuation">]</span> <span class="operators">=</span> <span class="punctuation">[</span>
       <span class="property">@a</span><span class="operators">*</span>cos <span class="operators">-</span> <span class="property">@b</span><span class="operators">*</span>sin
       <span class="property">@a</span><span class="operators">*</span>sin <span class="operators">+</span> <span class="property">@b</span><span class="operators">*</span>cos
       <span class="property">@c</span><span class="operators">*</span>cos <span class="operators">-</span> <span class="property">@d</span><span class="operators">*</span>sin
       <span class="property">@c</span><span class="operators">*</span>sin <span class="operators">+</span> <span class="property">@d</span><span class="operators">*</span>cos
      <span class="property">@tx</span><span class="operators">*</span>cos <span class="operators">-</span> <span class="property">@ty</span><span class="operators">*</span>sin
      <span class="property">@tx</span><span class="operators">*</span>sin <span class="operators">+</span> <span class="property">@ty</span><span class="operators">*</span>cos
    <span class="punctuation">]</span>
    <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixskew'>Matrix::skew</h4>

<p>Skews the matrix by the amount of the passed-in point.</p></td>
          <td class='code'><pre>  <span class="property">skew<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>xOrPt<span class="punctuation">,</span> y<span class="group_end">)</span></span> <span class="function">-></span>
    pt <span class="operators">=</span> <span class="constant">Point</span><span class="punctuation">.</span>pointFrom<span class="group"><span class="group_begin">(</span>xOrPt<span class="punctuation">,</span> y<span class="punctuation">,</span> <span class="number">0</span><span class="group_end">)</span></span>
    <span class="property">@append</span> <span class="constant">Math</span><span class="punctuation">.</span>cos<span class="group"><span class="group_begin">(</span>pt<span class="punctuation">.</span>y<span class="group_end">)</span></span><span class="punctuation">,</span>
            <span class="constant">Math</span><span class="punctuation">.</span>sin<span class="group"><span class="group_begin">(</span>pt<span class="punctuation">.</span>y<span class="group_end">)</span></span><span class="punctuation">,</span>
            <span class="operators">-</span><span class="constant">Math</span><span class="punctuation">.</span>sin<span class="group"><span class="group_begin">(</span>pt<span class="punctuation">.</span>x<span class="group_end">)</span></span><span class="punctuation">,</span>
            <span class="constant">Math</span><span class="punctuation">.</span>cos<span class="group"><span class="group_begin">(</span>pt<span class="punctuation">.</span>x<span class="group_end">)</span></span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixappend'>Matrix::append</h4>

<p>Append the passed-in matrix to this matrix.</p></td>
          <td class='code'><pre>  <span class="property">append<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>a<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> b<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> c<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> d<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> tx<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> ty<span class="operators">=</span><span class="number">0</span><span class="group_end">)</span></span> <span class="function">-></span>
    <span class="hash"><span class="hash_begin">{</span>a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="hash_end">}</span></span> <span class="operators">=</span> <span class="property">@matrixFrom</span> a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="punctuation">,</span> <span class="literal">true</span>
    <span class="punctuation">[</span><span class="property">@a</span><span class="punctuation">,</span> <span class="property">@b</span><span class="punctuation">,</span> <span class="property">@c</span><span class="punctuation">,</span> <span class="property">@d</span><span class="punctuation">,</span> <span class="property">@tx</span><span class="punctuation">,</span> <span class="property">@ty</span><span class="punctuation">]</span> <span class="operators">=</span> <span class="punctuation">[</span>
       a<span class="operators">*</span><span class="property">@a</span> <span class="operators">+</span> b<span class="operators">*</span><span class="property">@c</span>
       a<span class="operators">*</span><span class="property">@b</span> <span class="operators">+</span> b<span class="operators">*</span><span class="property">@d</span>
       c<span class="operators">*</span><span class="property">@a</span> <span class="operators">+</span> d<span class="operators">*</span><span class="property">@c</span>
       c<span class="operators">*</span><span class="property">@b</span> <span class="operators">+</span> d<span class="operators">*</span><span class="property">@d</span>
      tx<span class="operators">*</span><span class="property">@a</span> <span class="operators">+</span> ty<span class="operators">*</span><span class="property">@c</span> <span class="operators">+</span> <span class="property">@tx</span>
      tx<span class="operators">*</span><span class="property">@b</span> <span class="operators">+</span> ty<span class="operators">*</span><span class="property">@d</span> <span class="operators">+</span> <span class="property">@ty</span>
    <span class="punctuation">]</span>
    <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixprepend'>Matrix::prepend</h4>

<p>Prepend the passed-in matrix with this matrix.</p></td>
          <td class='code'><pre>  <span class="property">prepend<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>a<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> b<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> c<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> d<span class="operators">=</span><span class="number">1</span><span class="punctuation">,</span> tx<span class="operators">=</span><span class="number">0</span><span class="punctuation">,</span> ty<span class="operators">=</span><span class="number">0</span><span class="group_end">)</span></span> <span class="function">-></span>
    <span class="hash"><span class="hash_begin">{</span>a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="hash_end">}</span></span> <span class="operators">=</span> <span class="property">@matrixFrom</span> a<span class="punctuation">,</span> b<span class="punctuation">,</span> c<span class="punctuation">,</span> d<span class="punctuation">,</span> tx<span class="punctuation">,</span> ty<span class="punctuation">,</span> <span class="literal">true</span>
    <span class="keyword">if</span> a <span class="keyword">isnt</span> <span class="number">1</span> <span class="keyword">or</span> b <span class="keyword">isnt</span> <span class="number">0</span> <span class="keyword">or</span> c <span class="keyword">isnt</span> <span class="number">0</span> <span class="keyword">or</span> d <span class="keyword">isnt</span> <span class="number">1</span>
      <span class="punctuation">[</span><span class="property">@a</span><span class="punctuation">,</span> <span class="property">@b</span><span class="punctuation">,</span> <span class="property">@c</span><span class="punctuation">,</span> <span class="property">@d</span><span class="punctuation">]</span> <span class="operators">=</span> <span class="punctuation">[</span>
        <span class="property">@a</span><span class="operators">*</span>a <span class="operators">+</span> <span class="property">@b</span><span class="operators">*</span>c
        <span class="property">@a</span><span class="operators">*</span>b <span class="operators">+</span> <span class="property">@b</span><span class="operators">*</span>d
        <span class="property">@c</span><span class="operators">*</span>a <span class="operators">+</span> <span class="property">@d</span><span class="operators">*</span>c
        <span class="property">@c</span><span class="operators">*</span>b <span class="operators">+</span> <span class="property">@d</span><span class="operators">*</span>d
      <span class="punctuation">]</span>

    <span class="punctuation">[</span><span class="property">@tx</span><span class="punctuation">,</span> <span class="property">@ty</span><span class="punctuation">]</span> <span class="operators">=</span> <span class="punctuation">[</span>
      <span class="property">@tx</span><span class="operators">*</span>a <span class="operators">+</span> <span class="property">@ty</span><span class="operators">*</span>c <span class="operators">+</span> tx
      <span class="property">@tx</span><span class="operators">*</span>b <span class="operators">+</span> <span class="property">@ty</span><span class="operators">*</span>d <span class="operators">+</span> ty
    <span class="punctuation">]</span>
    <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixidentity'>Matrix::identity</h4>

<p>Converts this matrix into an identity matrix.</p></td>
          <td class='code'><pre>  <span class="property">identity<span class='punctuation'>:</span></span> <span class="function">-></span> <span class="punctuation">[</span><span class="property">@a</span><span class="punctuation">,</span> <span class="property">@b</span><span class="punctuation">,</span> <span class="property">@c</span><span class="punctuation">,</span> <span class="property">@d</span><span class="punctuation">,</span> <span class="property">@tx</span><span class="punctuation">,</span> <span class="property">@ty</span><span class="punctuation">]</span> <span class="operators">=</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span>; <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixinverse'>Matrix::inverse</h4>

<p>Converts this matrix into its inverse.</p></td>
          <td class='code'><pre>  <span class="property">inverse<span class='punctuation'>:</span></span> <span class="function">-></span>
    n <span class="operators">=</span> <span class="property">@a</span> <span class="operators">*</span> <span class="property">@d</span> <span class="operators">-</span> <span class="property">@b</span> <span class="operators">*</span> <span class="property">@c</span>
    <span class="punctuation">[</span><span class="property">@a</span><span class="punctuation">,</span> <span class="property">@b</span><span class="punctuation">,</span> <span class="property">@c</span><span class="punctuation">,</span> <span class="property">@d</span><span class="punctuation">,</span> <span class="property">@tx</span><span class="punctuation">,</span> <span class="property">@ty</span><span class="punctuation">]</span> <span class="operators">=</span> <span class="punctuation">[</span>
       <span class="property">@d</span> <span class="operators">/</span> n
      <span class="operators">-</span><span class="property">@b</span> <span class="operators">/</span> n
      <span class="operators">-</span><span class="property">@c</span> <span class="operators">/</span> n
       <span class="property">@a</span> <span class="operators">/</span> n
       <span class="group"><span class="group_begin">(</span><span class="property">@c</span><span class="operators">*</span><span class="property">@ty</span> <span class="operators">-</span> <span class="property">@d</span><span class="operators">*</span><span class="property">@tx</span><span class="group_end">)</span></span> <span class="operators">/</span> n
      <span class="operators">-</span><span class="group"><span class="group_begin">(</span><span class="property">@a</span><span class="operators">*</span><span class="property">@ty</span> <span class="operators">-</span> <span class="property">@b</span><span class="operators">*</span><span class="property">@tx</span><span class="group_end">)</span></span> <span class="operators">/</span> n
    <span class="punctuation">]</span>
    <span class="keyword">this</span>

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixismatrix'>Matrix::isMatrix</h4>

<p>Alias the <code>Matrix.isMatrix</code> method in instances.</p></td>
          <td class='code'><pre>  <span class="property">isMatrix<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span>m<span class="group_end">)</span></span> <span class="function">-></span> <span class="constant">Matrix</span><span class="punctuation">.</span>isMatrix m

</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixtostring'>Matrix::toString</h4>

<p>See
<a href="src_geomjs_mixins_formattable.html#formattabletostring">Formattable.toString</a></p></td>
          <td class='code'><pre>
</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixequals'>Matrix::equals</h4>

<p>See
<a href="src_geomjs_mixins_equatable.html#equatableequals">Equatable.equals</a></p></td>
          <td class='code'><pre>
</pre></td>
        </tr>
        <tr>
          <td class='docs'><h4 id='matrixclone'>Matrix::clone</h4>

<p>See
<a href="src_geomjs_mixins_cloneable.html#cloneableclone">Cloneable.clone</a></p></td>
          <td class='code'><pre>

<span class="global">module</span><span class="punctuation">.</span><span class="global">exports</span> <span class="operators">=</span> <span class="constant">Matrix</span>

</pre></td>
        </tr>
      </table>
    </div>
  </body>
</html>