// Generated by CoffeeScript 1.4.0
(function() {
  var Point;

  Point = (function() {

    Point.isPoint = function(o) {
      return (o != null) && (o.x != null) && (o.y != null);
    };

    function Point(x, y) {
      var _ref;
      _ref = this.coordsFrom(x, y), x = _ref[0], y = _ref[1];
      this.x = isNaN(x) ? 0 : x;
      this.y = isNaN(y) ? 0 : y;
    }

    Point.prototype.length = function() {
      return Math.sqrt((this.x * this.x) + (this.y * this.y));
    };

    Point.prototype.add = function(x, y) {
      var _ref;
      _ref = this.coordsFrom(x, y, true), x = _ref[0], y = _ref[1];
      return new Point(this.x + x, this.y + y);
    };

    Point.prototype.subtract = function(x, y) {
      var _ref;
      _ref = this.coordsFrom(x, y, true), x = _ref[0], y = _ref[1];
      return new Point(this.x - x, this.y - y);
    };

    Point.prototype.coordsFrom = function(x, y, strict) {
      var _ref;
      if (strict == null) {
        strict = false;
      }
      if (typeof x === 'object') {
        if (strict && !this.isPoint(x)) {
          throw new Error("" + x + " isn't a point-like object");
        }
        _ref = x, x = _ref.x, y = _ref.y;
      }
      if (typeof x === 'string') {
        x = parseInt(x);
      }
      if (typeof y === 'string') {
        y = parseInt(y);
      }
      return [x, y];
    };

    Point.prototype.isPoint = function(o) {
      return Point.isPoint(o);
    };

    return Point;

  })();

  module.exports = Point;

}).call(this);
